import os

gallery_root = "./assets/gallery"  # path to your gallery root
albums = []

for foldername in os.listdir(gallery_root):
    folder_path = os.path.join(gallery_root, foldername)
    
    # Check if it's a folder
    if os.path.isdir(folder_path):
        album = {"album": foldername, "images": []}
        
        for filename in os.listdir(folder_path):
            if filename.lower().endswith(('.png', '.jpg', '.jpeg', '.gif')):
                album["images"].append(filename)
        
        albums.append(album)

# Write to gallery.yml
with open("_data/gallery.yml", "w") as outfile:
    for album in albums:
        outfile.write("- album: {}\n  images:\n".format(album["album"]))
        for image in album["images"]:
            outfile.write("    - {}\n".format(image))
